<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>PhantoLogic - Brain Training Games</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            overflow-x: hidden;
            background: #1e1b4b;
        }
        #root {
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <!-- React Libraries -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Main App Script -->
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // SVG Icons
        const Brain = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/>
                <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/>
            </svg>
        );

        const Play = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="currentColor">
                <polygon points="5 3 19 12 5 21 5 3"/>
            </svg>
        );

        const Home = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                <polyline points="9 22 9 12 15 12 15 22"/>
            </svg>
        );

        const Trophy = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
                <path d="M4 22h16"/>
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/>
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/>
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/>
            </svg>
        );

        const Target = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2"/>
            </svg>
        );

        const Zap = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
            </svg>
        );

        const Check = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="20 6 9 17 4 12"/>
            </svg>
        );

        const Star = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="currentColor">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
            </svg>
        );

        const X = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        );

        // Main App Component
        const PhantoLogicApp = () => {
            const [screen, setScreen] = useState('loading');
            const [currentGame, setCurrentGame] = useState(null);
            const [score, setScore] = useState(0);
            const [level, setLevel] = useState(1);
            const [question, setQuestion] = useState(null);
            const [userAnswer, setUserAnswer] = useState('');
            const [showFullScreenAd, setShowFullScreenAd] = useState(false);
            const [feedback, setFeedback] = useState('');
            const [loadingProgress, setLoadingProgress] = useState(0);
            const [streak, setStreak] = useState(0);

            useEffect(() => {
                if (screen === 'loading') {
                    const interval = setInterval(() => {
                        setLoadingProgress(prev => {
                            if (prev >= 100) {
                                clearInterval(interval);
                                setTimeout(() => setScreen('intro'), 500);
                                return 100;
                            }
                            return prev + 2;
                        });
                    }, 50);
                    return () => clearInterval(interval);
                }
            }, [screen]);

            const generateMathQuestion = () => {
                const operations = ['+', '-', 'Ã—', 'Ã·'];
                const op = operations[Math.floor(Math.random() * operations.length)];
                let num1 = Math.floor(Math.random() * (10 * level)) + 1;
                let num2 = Math.floor(Math.random() * (10 * level)) + 1;
                
                if (op === 'Ã·') {
                    num1 = num2 * (Math.floor(Math.random() * 10) + 1);
                }
                
                let answer;
                switch(op) {
                    case '+': answer = num1 + num2; break;
                    case '-': answer = num1 - num2; break;
                    case 'Ã—': answer = num1 * num2; break;
                    case 'Ã·': answer = num1 / num2; break;
                    default: answer = 0;
                }
                
                return {
                    question: `${num1} ${op} ${num2} = ?`,
                    answer: answer,
                    type: 'math'
                };
            };

            const riddles = [
                { q: "I speak without a mouth and hear without ears. What am I? ðŸ”Š", a: "echo" },
                { q: "What has keys but no locks, space but no room? âŒ¨ï¸", a: "keyboard" },
                { q: "The more you take, the more you leave behind. What am I? ðŸ‘£", a: "footsteps" },
                { q: "What can travel around the world while staying in corner? ðŸŒ", a: "stamp" },
                { q: "I'm tall when young and short when old. What am I? ðŸ•¯ï¸", a: "candle" }
            ];

            const patterns = [
                { q: "2, 4, 6, 8, __? ðŸ”¢", a: "10" },
                { q: "1, 1, 2, 3, 5, __? ðŸŒ€", a: "8" },
                { q: "1, 4, 9, 16, __? â­", a: "25" },
                { q: "3, 6, 9, 12, __? ðŸŽ¯", a: "15" }
            ];

            const riverPuzzles = [
                { 
                    scenario: "A farmer needs to cross a river with a ðŸ¦Š fox, ðŸ” chicken, and ðŸŒ¾ grain. The boat can only carry the farmer and one item. If left alone, the fox will eat the chicken, and the chicken will eat the grain. How should he cross? ðŸš£",
                    answer: "chicken"
                }
            ];

            const startGame = (gameType) => {
                setCurrentGame(gameType);
                setScreen('game');
                setScore(0);
                setLevel(1);
                setStreak(0);
                setFeedback('');
                
                if (gameType === 'math') {
                    setQuestion(generateMathQuestion());
                } else if (gameType === 'riddle') {
                    const randomRiddle = riddles[Math.floor(Math.random() * riddles.length)];
                    setQuestion({ question: randomRiddle.q, answer: randomRiddle.a, type: 'riddle' });
                } else if (gameType === 'river') {
                    const randomPuzzle = riverPuzzles[Math.floor(Math.random() * riverPuzzles.length)];
                    setQuestion({ ...randomPuzzle, type: 'river' });
                } else if (gameType === 'pattern') {
                    const randomPattern = patterns[Math.floor(Math.random() * patterns.length)];
                    setQuestion({ question: randomPattern.q, answer: randomPattern.a, type: 'pattern' });
                }
            };

            const checkAnswer = () => {
                if (!question || !userAnswer.trim()) {
                    setFeedback('Please enter an answer!');
                    return;
                }
                
                const correct = question.type === 'math' || question.type === 'pattern'
                    ? parseInt(userAnswer) === parseInt(question.answer)
                    : userAnswer.toLowerCase().includes(question.answer.toLowerCase());
                
                if (correct) {
                    const points = 10 * level;
                    setScore(score + points);
                    setLevel(level + 1);
                    setStreak(streak + 1);
                    setFeedback(`ðŸŽ‰ Correct! +${points} points!`);
                    
                    setTimeout(() => {
                        if (currentGame === 'math') {
                            setQuestion(generateMathQuestion());
                        } else if (currentGame === 'riddle') {
                            const randomRiddle = riddles[Math.floor(Math.random() * riddles.length)];
                            setQuestion({ question: randomRiddle.q, answer: randomRiddle.a, type: 'riddle' });
                        } else if (currentGame === 'pattern') {
                            const randomPattern = patterns[Math.floor(Math.random() * patterns.length)];
                            setQuestion({ question: randomPattern.q, answer: randomPattern.a, type: 'pattern' });
                        } else if (currentGame === 'river') {
                            const randomPuzzle = riverPuzzles[Math.floor(Math.random() * riverPuzzles.length)];
                            setQuestion({ ...randomPuzzle, type: 'river' });
                        }
                        setUserAnswer('');
                        setFeedback('');
                    }, 1500);
                } else {
                    setFeedback('âŒ Wrong! Try again!');
                    setStreak(0);
                }
            };

            const HeaderAd = () => (
                <div className="bg-gradient-to-r from-purple-900 to-blue-900 text-white text-center py-2 text-xs border-b border-yellow-400">
                    <div className="flex items-center justify-center gap-2" style={{opacity: 0}}>
                        <Star size={12} />
                        <span className="font-semibold">Advertisement Space - 728x90</span>
                    </div>
                </div>
            );

            const FooterAd = () => (
                <div className="bg-gradient-to-r from-blue-900 to-purple-900 text-white text-center py-2 text-xs border-t border-yellow-400">
                    <div className="flex items-center justify-center gap-2" style={{opacity: 0}}>
                        <Zap size={12} />
                        <span className="font-semibold">Banner Ad - 320x50</span>
                    </div>
                </div>
            );

            const FullScreenAd = () => (
                <div className="fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center">
                    <div className="bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 p-6 rounded-xl max-w-sm w-full mx-4 relative shadow-2xl">
                        <button 
                            onClick={() => setShowFullScreenAd(false)}
                            className="absolute top-2 right-2 bg-white text-gray-800 rounded-full p-1.5 hover:bg-gray-200"
                        >
                            <X size={18} />
                        </button>
                        <div className="text-white text-center">
                            <div className="mb-3">
                                <Star size={50} />
                            </div>
                            <h3 className="text-2xl font-bold mb-3" style={{opacity: 0}}>Full Screen Ad</h3>
                            <p className="mb-4 text-sm" style={{opacity: 0}}>Interstitial Advertisement</p>
                            <div className="bg-white bg-opacity-20 p-8 rounded-lg backdrop-blur">
                                <p className="text-xs font-semibold" style={{opacity: 0}}>320x480 Ad Space</p>
                            </div>
                            <button 
                                onClick={() => setShowFullScreenAd(false)}
                                className="mt-4 bg-white text-purple-600 px-6 py-2 rounded-full font-bold hover:bg-gray-100"
                            >
                                Close Ad
                            </button>
                        </div>
                    </div>
                </div>
            );

            const LoadingScreen = () => (
                <div className="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex items-center justify-center">
                    <div className="text-center px-4 w-full max-w-md mx-auto">
                        <div className="mb-6 flex justify-center">
                            <Brain size={100} color="#000000" />
                        </div>
                        <h1 className="text-4xl font-bold mb-1 text-white">
                            PhantomXworld
                        </h1>
                        <p className="text-lg text-white mb-4">Mind Games</p>
                        <div className="w-64 mx-auto mb-3">
                            <div className="bg-gray-800 bg-opacity-50 rounded-full h-3 overflow-hidden">
                                <div 
                                    className="h-full bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-500 transition-all duration-300"
                                    style={{ width: `${loadingProgress}%` }}
                                />
                            </div>
                            <p className="text-white mt-2 text-sm">{loadingProgress}%</p>
                        </div>
                        <div className="flex gap-2 justify-center">
                            <div className="w-3 h-3 bg-yellow-400 rounded-full animate-bounce"/>
                            <div className="w-3 h-3 bg-pink-400 rounded-full animate-bounce" style={{animationDelay: '0.1s'}}/>
                            <div className="w-3 h-3 bg-purple-400 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}/>
                        </div>
                    </div>
                </div>
            );

            const IntroScreen = () => (
                <div className="min-h-screen bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex flex-col">
                    <HeaderAd />
                    <div className="flex-1 flex items-center justify-center p-4">
                        <div className="text-center max-w-2xl">
                            <div className="mb-6 flex justify-center">
                                <Brain size={100} color="#000000" />
                            </div>
                            <h1 className="text-4xl font-bold text-white mb-3">PhantoLogic</h1>
                            <p className="text-lg text-white mb-6">Ultimate Brain Training Experience!</p>
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-8 max-w-xl mx-auto">
                                <div className="bg-white bg-opacity-20 backdrop-blur-md p-4 rounded-lg">
                                    <div className="text-4xl mb-1">ðŸ”¢</div>
                                    <p className="text-white text-sm font-semibold">Maths</p>
                                </div>
                                <div className="bg-white bg-opacity-20 backdrop-blur-md p-4 rounded-lg">
                                    <div className="text-4xl mb-1">ðŸŒŠ</div>
                                    <p className="text-white text-sm font-semibold">River</p>
                                </div>
                                <div className="bg-white bg-opacity-20 backdrop-blur-md p-4 rounded-lg">
                                    <div className="text-4xl mb-1">ðŸ’¡</div>
                                    <p className="text-white text-sm font-semibold">Riddles</p>
                                </div>
                                <div className="bg-white bg-opacity-20 backdrop-blur-md p-4 rounded-lg">
                                    <div className="text-4xl mb-1">ðŸ§©</div>
                                    <p className="text-white text-sm font-semibold">Patterns</p>
                                </div>
                            </div>
                            <button 
                                onClick={() => setScreen('menu')}
                                className="bg-yellow-400 text-purple-900 px-8 py-3 rounded-full text-xl font-bold hover:bg-yellow-300 flex items-center gap-2 mx-auto"
                            >
                                <Play size={24} />
                                Start Playing
                            </button>
                        </div>
                    </div>
                    <FooterAd />
                </div>
            );

            const MenuScreen = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex flex-col">
                    <HeaderAd />
                    <div className="flex-1 flex items-center justify-center p-4">
                        <div className="max-w-4xl w-full">
                            <h2 className="text-3xl md:text-4xl font-bold text-white text-center mb-6">Choose Your Game</h2>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                <button
                                    onClick={() => startGame('math')}
                                    className="bg-gradient-to-br from-red-500 to-orange-500 rounded-xl p-5 text-white hover:shadow-2xl transform hover:scale-105 transition"
                                >
                                    <div className="text-5xl mb-3">ðŸ”¢</div>
                                    <h3 className="text-xl font-bold mb-2">Math Master</h3>
                                    <p className="text-sm">Arithmetic problems</p>
                                </button>
                                <button
                                    onClick={() => startGame('river')}
                                    className="bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl p-5 text-white hover:shadow-2xl transform hover:scale-105 transition"
                                >
                                    <div className="text-5xl mb-3">ðŸŒŠ</div>
                                    <h3 className="text-xl font-bold mb-2">River Crossing</h3>
                                    <p className="text-sm">Logic puzzles</p>
                                </button>
                                <button
                                    onClick={() => startGame('riddle')}
                                    className="bg-gradient-to-br from-yellow-500 to-amber-500 rounded-xl p-5 text-white hover:shadow-2xl transform hover:scale-105 transition"
                                >
                                    <div className="text-5xl mb-3">ðŸ’¡</div>
                                    <h3 className="text-xl font-bold mb-2">Riddles</h3>
                                    <p className="text-sm">Brain teasers</p>
                                </button>
                                <button
                                    onClick={() => startGame('pattern')}
                                    className="bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl p-5 text-white hover:shadow-2xl transform hover:scale-105 transition"
                                >
                                    <div className="text-5xl mb-3">ðŸ§©</div>
                                    <h3 className="text-xl font-bold mb-2">Pattern Master</h3>
                                    <p className="text-sm">Number sequences</p>
                                </button>
                            </div>
                        </div>
                    </div>
                    <FooterAd />
                </div>
            );

            const GameScreen = () => (
                <div className="min-h-screen bg-gradient-to-br from-teal-500 to-blue-600 flex flex-col">
                    <HeaderAd />
                    <div className="flex-1 p-4">
                        <div className="max-w-2xl mx-auto">
                            <div className="bg-white rounded-xl p-3 mb-4">
                                <div className="flex justify-between items-center">
                                    <button 
                                        onClick={() => setScreen('menu')}
                                        className="flex items-center gap-2 bg-blue-500 text-white px-3 py-2 rounded-lg text-sm"
                                    >
                                        <Home size={16} />
                                        Menu
                                    </button>
                                    <div className="flex gap-3 text-sm">
                                        <div className="flex items-center gap-1">
                                            <Trophy size={18} />
                                            <span className="font-bold">{score}</span>
                                        </div>
                                        <div className="flex items-center gap-1">
                                            <Target size={18} />
                                            <span className="font-bold">{level}</span>
                                        </div>
                                        <div className="flex items-center gap-1">
                                            <Zap size={18} />
                                            <span className="font-bold">{streak}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="bg-white rounded-2xl p-6">
                                {question && (
                                    <>
                                        <h3 className="text-xl font-bold mb-4 text-center">
                                            {question.type === 'math' && 'ðŸ”¢ Math Challenge'}
                                            {question.type === 'riddle' && 'ðŸ’¡ Riddle Time'}
                                            {question.type === 'pattern' && 'ðŸ§© Pattern Puzzle'}
                                            {question.type === 'river' && 'ðŸŒŠ River Puzzle'}
                                        </h3>
                                        <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-5 mb-4">
                                            <p className="text-2xl text-gray-800 font-semibold text-center">
                                                {question.type === 'river' ? question.scenario : question.question}
                                            </p>
                                        </div>
                                        <input
                                            type="text"
                                            value={userAnswer}
                                            onChange={(e) => setUserAnswer(e.target.value)}
                                            onKeyPress={(e) => e.key === 'Enter' && checkAnswer()}
                                            placeholder="Your Answer"
                                            className="w-full p-3 border-2 border-blue-300 rounded-xl mb-3 text-lg text-center focus:outline-none focus:border-blue-500"
                                        />
                                        {feedback && (
                                            <div className={`text-center text-base font-bold mb-3 p-2.5 rounded-lg ${
                                                feedback.includes('Correct') ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                                            }`}>
                                                {feedback}
                                            </div>
                                        )}
                                        <button
                                            onClick={checkAnswer}
                                            className="w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2"
                                        >
                                            <Check size={22} />
                                            Check Answer
                                        </button>
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                    <FooterAd />
                </div>
            );

            return (
                <>
                    {screen === 'loading' && <LoadingScreen />}
                    {screen === 'intro' && <IntroScreen />}
                    {screen === 'menu' && <MenuScreen />}
                    {screen === 'game' && <GameScreen />}
                    {showFullScreenAd && <FullScreenAd />}
                </>
            );
        };

        // Render App
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PhantoLogicApp />);
    </script>
</body>
</html>
